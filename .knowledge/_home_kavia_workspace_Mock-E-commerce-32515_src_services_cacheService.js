{"is_source_file": true, "format": "JavaScript", "description": "Cache Service class for managing caching functionality for products, users, and orders data using node-cache.", "external_files": ["../utils/logger"], "external_methods": [], "published": ["CacheService"], "classes": [{"name": "ServiceError", "description": "A custom error class extending the built-in Error class for handling service-related errors."}, {"name": "CacheError", "description": "A specific error class for cache-related operations that indicates if the error is retryable."}, {"name": "CacheService", "description": "Main class responsible for cache management including setting, getting, deleting items, and managing namespaces."}], "methods": [{"name": "set", "description": "Sets a value in the cache under the specified namespace and key, with an optional TTL."}, {"name": "get", "description": "Retrieves a value from the cache using the specified namespace and key."}, {"name": "delete", "description": "Deletes a value from the cache using the specified namespace and key."}, {"name": "mset", "description": "Sets multiple key-value pairs in the cache under the specified namespace."}, {"name": "mget", "description": "Retrieves multiple values from the cache using the specified namespace and array of keys."}, {"name": "mdelete", "description": "Deletes multiple values from the cache using the specified namespace and array of keys."}, {"name": "flushNamespace", "description": "Flushes all keys in the specified namespace."}, {"name": "flushAll", "description": "Flushes the entire cache."}, {"name": "getStats", "description": "Returns cache statistics including count of keys and additional information."}, {"name": "getKeys", "description": "Retrieves all keys in the cache, optionally filtered by namespace."}, {"name": "has", "description": "Checks if a key exists in the cache for the specified namespace."}, {"name": "getTtl", "description": "Gets the remaining TTL for a specified key in the cache."}, {"name": "setProduct", "description": "Sets a product in the cache."}, {"name": "getProduct", "description": "Retrieves a product from the cache."}, {"name": "deleteProduct", "description": "Deletes a product from the cache."}, {"name": "setProducts", "description": "Sets multiple products in the cache."}, {"name": "getProducts", "description": "Retrieves multiple products from the cache."}, {"name": "flushProducts", "description": "Flushes all product cache."}, {"name": "setUser", "description": "Sets a user in the cache."}, {"name": "getUser", "description": "Retrieves a user from the cache."}, {"name": "deleteUser", "description": "Deletes a user from the cache."}, {"name": "setUsers", "description": "Sets multiple users in the cache."}, {"name": "getUsers", "description": "Retrieves multiple users from the cache."}, {"name": "flushUsers", "description": "Flushes all user cache."}, {"name": "setOrder", "description": "Sets an order in the cache."}, {"name": "getOrder", "description": "Retrieves an order from the cache."}, {"name": "deleteOrder", "description": "Deletes an order from the cache."}, {"name": "setOrders", "description": "Sets multiple orders in the cache."}, {"name": "getOrders", "description": "Retrieves multiple orders from the cache."}, {"name": "flushOrders", "description": "Flushes all order cache."}, {"name": "_getNamespacedKey(namespace, key)", "scope": "CacheService", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor()", "scope": "CacheService", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(message, statusCode = 500, originalError = null)", "scope": "CacheError", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(message, statusCode = null, originalError = null)", "scope": "ServiceError", "scopeKind": "class", "description": "unavailable"}], "calls": ["Logger.info", "Logger.debug", "Logger.error"], "search-terms": ["cache service", "node-cache", "products cache", "users cache", "orders cache"], "state": 2, "file_id": 79, "knowledge_revision": 211, "git_revision": "6ce21f70481cec7216450e3c66e2ad71b4d2d05d", "ctags": [{"_type": "tag", "name": "CacheError", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^class CacheError extends ServiceError {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "CacheService", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^class CacheService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Logger", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^const Logger = require('..\\/utils\\/logger') || console;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "NodeCache", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^const NodeCache = require('node-cache');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ServiceError", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^class ServiceError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "_getNamespacedKey", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^  _getNamespacedKey(namespace, key) {$/", "language": "JavaScript", "kind": "method", "signature": "(namespace, key)", "scope": "CacheService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^  constructor() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "CacheService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^  constructor(message, statusCode = 500, originalError = null) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, statusCode = 500, originalError = null)", "scope": "CacheError", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^  constructor(message, statusCode = null, originalError = null) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, statusCode = null, originalError = null)", "scope": "ServiceError", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^module.exports = new CacheService();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "filteredKeys", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^        const filteredKeys = allKeys.filter(key => key.startsWith(namespacePrefix));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "found", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      const found = value !== undefined;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      if (!namespace || !key) {$/", "language": "JavaScript", "kind": "field", "scope": "CacheService", "scopeKind": "class"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^  set(namespace, key, value, ttl) {$/", "language": "JavaScript", "kind": "field", "scope": "CacheService", "scopeKind": "class"}, {"_type": "tag", "name": "namespace", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      if (!namespace || !key) {$/", "language": "JavaScript", "kind": "field", "scope": "CacheService", "scopeKind": "class"}, {"_type": "tag", "name": "namespace", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^  set(namespace, key, value, ttl) {$/", "language": "JavaScript", "kind": "field", "scope": "CacheService", "scopeKind": "class"}, {"_type": "tag", "name": "namespaceCounts", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      const namespaceCounts = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "namespacePrefix", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^        const namespacePrefix = `${namespace}:`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "namespacePrefix", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      const namespacePrefix = `${namespace}:`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "namespacedKeys", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      const namespacedKeys = allKeys.filter(key => key.startsWith(namespacePrefix));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "namespacedKeys", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      const namespacedKeys = keys.map(key => this._getNamespacedKey(namespace, key));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "namespacedMap", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      const namespacedMap = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "orders", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      orders: 900     \\/\\/ 15 minutes$/", "language": "JavaScript", "kind": "property", "scope": "CacheService.constructor.ttl", "scopeKind": "class"}, {"_type": "tag", "name": "products", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      products: 3600, \\/\\/ 1 hour$/", "language": "JavaScript", "kind": "property", "scope": "CacheService.constructor.ttl", "scopeKind": "class"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      const result = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "throw", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^        throw new CacheError('Namespace and key are required');$/", "language": "JavaScript", "kind": "field", "scope": "CacheService", "scopeKind": "class"}, {"_type": "tag", "name": "ttl", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^    this.ttl = {$/", "language": "JavaScript", "kind": "class", "scope": "CacheService.constructor", "scopeKind": "class"}, {"_type": "tag", "name": "ttl", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^  set(namespace, key, value, ttl) {$/", "language": "JavaScript", "kind": "field", "scope": "CacheService", "scopeKind": "class"}, {"_type": "tag", "name": "ttlValue", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      const ttlValue = ttl || this.ttl[namespace] || 3600; \\/\\/ Default to 1 hour if namespace n/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "users", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^      users: 1800,    \\/\\/ 30 minutes$/", "language": "JavaScript", "kind": "property", "scope": "CacheService.constructor.ttl", "scopeKind": "class"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "pattern": "/^  set(namespace, key, value, ttl) {$/", "language": "JavaScript", "kind": "field", "scope": "CacheService", "scopeKind": "class"}], "filename": "/home/kavia/workspace/Mock-E-commerce-32515/src/services/cacheService.js", "hash": "f4e12d0e3d897344c20a7aeb0d062ea5", "format-version": 4, "code-base-name": "default", "fields": [{"name": "module.exports = new CacheService();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "if (!namespace || !key) {", "scope": "CacheService", "scopeKind": "class", "description": "unavailable"}, {"name": "set(namespace, key, value, ttl) {", "scope": "CacheService", "scopeKind": "class", "description": "unavailable"}, {"name": "orders: 900     \\/\\/ 15 minutes", "scope": "CacheService.constructor.ttl", "scopeKind": "class", "description": "unavailable"}, {"name": "products: 3600, \\/\\/ 1 hour", "scope": "CacheService.constructor.ttl", "scopeKind": "class", "description": "unavailable"}, {"name": "throw new CacheError('Namespace and key are required');", "scope": "CacheService", "scopeKind": "class", "description": "unavailable"}, {"name": "users: 1800,    \\/\\/ 30 minutes", "scope": "CacheService.constructor.ttl", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"211": "6ce21f70481cec7216450e3c66e2ad71b4d2d05d"}]}