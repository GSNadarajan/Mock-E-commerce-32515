{"is_source_file": true, "format": "JavaScript", "description": "PaymentController class that handles payment-related HTTP requests in an Express application.", "external_files": ["../models/paymentModel"], "external_methods": ["PaymentModel.createPayment", "PaymentModel.getAllPayments", "PaymentModel.getPaymentById", "PaymentModel.getPaymentsByUserId", "PaymentModel.getPaymentsByOrderId"], "published": ["PaymentController"], "classes": [{"name": "PaymentController", "description": "Class to manage payment-related endpoints and logic."}], "methods": [{"name": "processPayment(req, res)", "description": "Processes a payment for an order and validates the input.", "scope": "PaymentController", "scopeKind": "class"}, {"name": "getAllPayments(req, res)", "description": "Retrieves all payments, accessible to admin only.", "scope": "PaymentController", "scopeKind": "class"}, {"name": "getPaymentById(req, res)", "description": "Fetches a specific payment using payment ID.", "scope": "PaymentController", "scopeKind": "class"}, {"name": "getPaymentsByUserId(req, res)", "description": "Gets all payments associated with a specific user ID.", "scope": "PaymentController", "scopeKind": "class"}, {"name": "getPaymentsByOrderId(req, res)", "description": "Retrieves all payments associated with a specific order ID.", "scope": "PaymentController", "scopeKind": "class"}], "calls": ["PaymentModel.createPayment", "PaymentModel.getAllPayments", "PaymentModel.getPaymentById", "PaymentModel.getPaymentsByUserId", "PaymentModel.getPaymentsByOrderId"], "search-terms": ["PaymentController", "processPayment", "getPaymentById", "getAllPayments", "getPaymentsByUserId", "getPaymentsByOrderId"], "state": 2, "file_id": 91, "knowledge_revision": 236, "git_revision": "", "ctags": [{"_type": "tag", "name": "PaymentController", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^class PaymentController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "PaymentModel", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^const PaymentModel = require('..\\/models\\/paymentModel');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^        amount: paymentData.amount,$/", "language": "JavaScript", "kind": "property", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class"}, {"_type": "tag", "name": "currency", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^        currency: paymentData.currency || 'USD',$/", "language": "JavaScript", "kind": "property", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^        description: paymentData.description || '',$/", "language": "JavaScript", "kind": "property", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class"}, {"_type": "tag", "name": "getAllPayments", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^  static async getAllPayments(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "PaymentController", "scopeKind": "class"}, {"_type": "tag", "name": "getPaymentById", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^  static async getPaymentById(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "PaymentController", "scopeKind": "class"}, {"_type": "tag", "name": "getPaymentsByOrderId", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^  static async getPaymentsByOrderId(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "PaymentController", "scopeKind": "class"}, {"_type": "tag", "name": "getPaymentsByUserId", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^  static async getPaymentsByUserId(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "PaymentController", "scopeKind": "class"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^        metadata: paymentData.metadata || {}$/", "language": "JavaScript", "kind": "property", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class"}, {"_type": "tag", "name": "orderId", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^        orderId: paymentData.order_id,$/", "language": "JavaScript", "kind": "property", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class"}, {"_type": "tag", "name": "paymentMethod", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^        paymentMethod: paymentData.payment_method,$/", "language": "JavaScript", "kind": "property", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class"}, {"_type": "tag", "name": "processPayment", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^  static async processPayment(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "PaymentController", "scopeKind": "class"}, {"_type": "tag", "name": "transformedData", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^      const transformedData = {$/", "language": "JavaScript", "kind": "class", "scope": "PaymentController.processPayment", "scopeKind": "class"}, {"_type": "tag", "name": "userId", "path": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "pattern": "/^        userId: paymentData.user_id,$/", "language": "JavaScript", "kind": "property", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class"}], "filename": "/home/kavia/workspace/Mock-E-commerce-32515/src/payments/controllers/paymentController.js", "hash": "70c8f26040371c3bad6c0e774397f3e3", "format-version": 4, "code-base-name": "default", "fields": [{"name": "amount: paymentData.amount,", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class", "description": "unavailable"}, {"name": "currency: paymentData.currency || 'USD',", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class", "description": "unavailable"}, {"name": "description: paymentData.description || '',", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class", "description": "unavailable"}, {"name": "metadata: paymentData.metadata || {}", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class", "description": "unavailable"}, {"name": "orderId: paymentData.order_id,", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class", "description": "unavailable"}, {"name": "paymentMethod: paymentData.payment_method,", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class", "description": "unavailable"}, {"name": "userId: paymentData.user_id,", "scope": "PaymentController.processPayment.transformedData", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"236": ""}]}